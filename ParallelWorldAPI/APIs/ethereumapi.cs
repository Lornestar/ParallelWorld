using System;
using System.Threading;
using System.Threading.Tasks;
using Nethereum;
using System.Numerics;


namespace ParallelWorldAPI.APIs
{
    public class ethereumapi
    {
        public ethereumapi()
        {
        }

        public static readonly string ETH_NODE_URL = "https://rinkeby.infura.io"; //"HTTP://127.0.0.1:7545"; //"https://eth2.augur.net";// "http://ec2-13-229-127-104.ap-southeast-1.compute.amazonaws.com:8545";
        //public static readonly string abi = @"[{""constant"":true,""inputs"":[{""name"":""_itemId"",""type"":""uint256""}],""name"":""tokenExists"",""outputs"":[{""name"":""_exists"",""type"":""bool""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_itemId"",""type"":""uint256""}],""name"":""nameOf"",""outputs"":[{""name"":""_name"",""type"":""bytes32""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":true,""inputs"":[],""name"":""name"",""outputs"":[{""name"":""_name"",""type"":""string""}],""payable"":false,""stateMutability"":""pure"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_to"",""type"":""address""},{""name"":""_itemId"",""type"":""uint256""}],""name"":""approve"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_itemIds"",""type"":""uint256[]""},{""name"":""_price"",""type"":""uint256""},{""name"":""_owner"",""type"":""address""},{""name"":""_nameofItem"",""type"":""bytes32[]""}],""name"":""listMultipleItems"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":true,""inputs"":[],""name"":""implementsERC721"",""outputs"":[{""name"":""_implements"",""type"":""bool""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_owner"",""type"":""address""}],""name"":""setOwner"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_admin"",""type"":""address""}],""name"":""removeAdmin"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":true,""inputs"":[],""name"":""totalSupply"",""outputs"":[{""name"":""_totalSupply"",""type"":""uint256""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_itemRegistry"",""type"":""address""}],""name"":""setItemRegistry"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_from"",""type"":""address""},{""name"":""_to"",""type"":""address""},{""name"":""_itemId"",""type"":""uint256""}],""name"":""transferFrom"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_admin"",""type"":""address""}],""name"":""isAdmin"",""outputs"":[{""name"":""_isAdmin"",""type"":""bool""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_itemId"",""type"":""uint256""}],""name"":""approvedFor"",""outputs"":[{""name"":""_approved"",""type"":""address""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_itemId"",""type"":""uint256""}],""name"":""allOf"",""outputs"":[{""name"":""_itemIdreturn"",""type"":""uint256""},{""name"":""_owner"",""type"":""address""},{""name"":""_startingPrice"",""type"":""uint256""},{""name"":""_price"",""type"":""uint256""},{""name"":""_nextPrice"",""type"":""uint256""},{""name"":""_name"",""type"":""bytes32""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_itemId"",""type"":""uint256""}],""name"":""listItemFromRegistry"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":true,""inputs"":[],""name"":""gettestuint256"",""outputs"":[{""name"":"""",""type"":""uint256""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_itemId"",""type"":""uint256""}],""name"":""awardprize"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":true,""inputs"":[],""name"":""getlistedItems"",""outputs"":[{""name"":""_listedItems"",""type"":""uint256[]""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_ownerAddress"",""type"":""address""},{""name"":""_ownerAlias"",""type"":""bytes32""},{""name"":""_ownerEmail"",""type"":""bytes32""},{""name"":""_ownerPhone"",""type"":""bytes32""}],""name"":""setownerInfo"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_from"",""type"":""uint256""},{""name"":""_take"",""type"":""uint256""}],""name"":""itemsForSaleLimit"",""outputs"":[{""name"":""_items"",""type"":""uint256[]""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_owner"",""type"":""address""}],""name"":""tokensOf"",""outputs"":[{""name"":""_tokenIds"",""type"":""uint256[]""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_itemId"",""type"":""uint256""}],""name"":""nextPriceOf"",""outputs"":[{""name"":""_nextPrice"",""type"":""uint256""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_itemId"",""type"":""uint256""}],""name"":""ownerOf"",""outputs"":[{""name"":""_owner"",""type"":""address""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_price"",""type"":""uint256""}],""name"":""calculateDevCut"",""outputs"":[{""name"":""_devCut"",""type"":""uint256""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_itemId"",""type"":""uint256""},{""name"":""_price"",""type"":""uint256""},{""name"":""_owner"",""type"":""address""},{""name"":""_nameofItem"",""type"":""bytes32""}],""name"":""listItem"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_price"",""type"":""uint256""}],""name"":""calculatePrizeCut"",""outputs"":[{""name"":""_devCut"",""type"":""uint256""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_admin"",""type"":""address""}],""name"":""addAdmin"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_owner"",""type"":""address""}],""name"":""balanceOf"",""outputs"":[{""name"":""_balance"",""type"":""uint256""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":false,""inputs"":[],""name"":""enableERC721"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":true,""inputs"":[],""name"":""getOwner"",""outputs"":[{""name"":"""",""type"":""address""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_itemIds"",""type"":""uint256[]""}],""name"":""populateFromItemRegistry"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":true,""inputs"":[],""name"":""symbol"",""outputs"":[{""name"":""_symbol"",""type"":""string""}],""payable"":false,""stateMutability"":""pure"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_testuint256"",""type"":""uint256""}],""name"":""settestuint256"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_itemId"",""type"":""uint256""},{""name"":""_price"",""type"":""uint256""}],""name"":""addItem"",""outputs"":[{""name"":""_pricereturn"",""type"":""uint256""}],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_to"",""type"":""address""},{""name"":""_itemId"",""type"":""uint256""}],""name"":""transfer"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_itemId"",""type"":""uint256""}],""name"":""startingPriceOf"",""outputs"":[{""name"":""_startingPrice"",""type"":""uint256""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":true,""inputs"":[],""name"":""getprizeamount"",""outputs"":[{""name"":""_prizeamount"",""type"":""uint256""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_itemId"",""type"":""uint256""}],""name"":""priceOf"",""outputs"":[{""name"":""_price"",""type"":""uint256""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_owner"",""type"":""address""}],""name"":""getownerInfo"",""outputs"":[{""name"":""_name"",""type"":""bytes32""},{""name"":""_email"",""type"":""bytes32""},{""name"":""_phone"",""type"":""bytes32""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_itemId"",""type"":""uint256""}],""name"":""buy"",""outputs"":[],""payable"":true,""stateMutability"":""payable"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_price"",""type"":""uint256""}],""name"":""calculateNextPrice"",""outputs"":[{""name"":""_nextPrice"",""type"":""uint256""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":true,""inputs"":[],""name"":""testuint256"",""outputs"":[{""name"":"""",""type"":""uint256""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""inputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""constructor""},{""anonymous"":false,""inputs"":[{""indexed"":true,""name"":""_itemId"",""type"":""uint256""},{""indexed"":true,""name"":""_owner"",""type"":""address""},{""indexed"":false,""name"":""_price"",""type"":""uint256""}],""name"":""Bought"",""type"":""event""},{""anonymous"":false,""inputs"":[{""indexed"":true,""name"":""_itemId"",""type"":""uint256""},{""indexed"":true,""name"":""_owner"",""type"":""address""},{""indexed"":false,""name"":""_price"",""type"":""uint256""}],""name"":""Sold"",""type"":""event""},{""anonymous"":false,""inputs"":[{""indexed"":true,""name"":""_from"",""type"":""address""},{""indexed"":true,""name"":""_to"",""type"":""address""},{""indexed"":false,""name"":""_tokenId"",""type"":""uint256""}],""name"":""Transfer"",""type"":""event""},{""anonymous"":false,""inputs"":[{""indexed"":true,""name"":""_owner"",""type"":""address""},{""indexed"":true,""name"":""_approved"",""type"":""address""},{""indexed"":false,""name"":""_tokenId"",""type"":""uint256""}],""name"":""Approval"",""type"":""event""}]";
        public static readonly string abi = @"[{""constant"":true,""inputs"":[{""name"":""_itemId"",""type"":""uint256""}],""name"":""tokenExists"",""outputs"":[{""name"":""_exists"",""type"":""bool""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_itemId"",""type"":""uint256""}],""name"":""nameOf"",""outputs"":[{""name"":""_name"",""type"":""bytes32""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":true,""inputs"":[],""name"":""name"",""outputs"":[{""name"":""_name"",""type"":""string""}],""payable"":false,""stateMutability"":""pure"",""type"":""function""},{""constant"":true,""inputs"":[],""name"":""getenddate"",""outputs"":[{""name"":""_enddate"",""type"":""uint256""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_to"",""type"":""address""},{""name"":""_itemId"",""type"":""uint256""}],""name"":""approve"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_itemIds"",""type"":""uint256[]""},{""name"":""_price"",""type"":""uint256""},{""name"":""_owner"",""type"":""address""},{""name"":""_nameofItem"",""type"":""bytes32[]""}],""name"":""listMultipleItems"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":true,""inputs"":[],""name"":""implementsERC721"",""outputs"":[{""name"":""_implements"",""type"":""bool""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_owner"",""type"":""address""}],""name"":""setOwner"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_admin"",""type"":""address""}],""name"":""removeAdmin"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":true,""inputs"":[],""name"":""totalSupply"",""outputs"":[{""name"":""_totalSupply"",""type"":""uint256""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_itemRegistry"",""type"":""address""}],""name"":""setItemRegistry"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_from"",""type"":""address""},{""name"":""_to"",""type"":""address""},{""name"":""_itemId"",""type"":""uint256""}],""name"":""transferFrom"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_admin"",""type"":""address""}],""name"":""isAdmin"",""outputs"":[{""name"":""_isAdmin"",""type"":""bool""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_itemId"",""type"":""uint256""}],""name"":""approvedFor"",""outputs"":[{""name"":""_approved"",""type"":""address""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_itemId"",""type"":""uint256""}],""name"":""allOf"",""outputs"":[{""name"":""_itemIdreturn"",""type"":""uint256""},{""name"":""_owner"",""type"":""address""},{""name"":""_startingPrice"",""type"":""uint256""},{""name"":""_price"",""type"":""uint256""},{""name"":""_nextPrice"",""type"":""uint256""},{""name"":""_name"",""type"":""bytes32""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_itemId"",""type"":""uint256""}],""name"":""listItemFromRegistry"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_itemId"",""type"":""uint256""}],""name"":""awardprize"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":true,""inputs"":[],""name"":""getlistedItems"",""outputs"":[{""name"":""_listedItems"",""type"":""uint256[]""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_ownerAddress"",""type"":""address""},{""name"":""_ownerAlias"",""type"":""bytes32""},{""name"":""_ownerEmail"",""type"":""bytes32""},{""name"":""_ownerPhone"",""type"":""bytes32""}],""name"":""setownerInfo"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_from"",""type"":""uint256""},{""name"":""_take"",""type"":""uint256""}],""name"":""itemsForSaleLimit"",""outputs"":[{""name"":""_items"",""type"":""uint256[]""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_owner"",""type"":""address""}],""name"":""tokensOf"",""outputs"":[{""name"":""_tokenIds"",""type"":""uint256[]""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_itemId"",""type"":""uint256""}],""name"":""nextPriceOf"",""outputs"":[{""name"":""_nextPrice"",""type"":""uint256""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_itemId"",""type"":""uint256""}],""name"":""ownerOf"",""outputs"":[{""name"":""_owner"",""type"":""address""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_price"",""type"":""uint256""}],""name"":""calculateDevCut"",""outputs"":[{""name"":""_devCut"",""type"":""uint256""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_itemId"",""type"":""uint256""},{""name"":""_price"",""type"":""uint256""},{""name"":""_owner"",""type"":""address""},{""name"":""_nameofItem"",""type"":""bytes32""}],""name"":""listItem"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_price"",""type"":""uint256""}],""name"":""calculatePrizeCut"",""outputs"":[{""name"":""_devCut"",""type"":""uint256""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_admin"",""type"":""address""}],""name"":""addAdmin"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_owner"",""type"":""address""}],""name"":""balanceOf"",""outputs"":[{""name"":""_balance"",""type"":""uint256""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":false,""inputs"":[],""name"":""enableERC721"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":true,""inputs"":[],""name"":""getOwner"",""outputs"":[{""name"":"""",""type"":""address""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_itemIds"",""type"":""uint256[]""}],""name"":""populateFromItemRegistry"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":true,""inputs"":[],""name"":""symbol"",""outputs"":[{""name"":""_symbol"",""type"":""string""}],""payable"":false,""stateMutability"":""pure"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_itemId"",""type"":""uint256""},{""name"":""_price"",""type"":""uint256""}],""name"":""addItem"",""outputs"":[{""name"":""_pricereturn"",""type"":""uint256""}],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_to"",""type"":""address""},{""name"":""_itemId"",""type"":""uint256""}],""name"":""transfer"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_itemId"",""type"":""uint256""}],""name"":""startingPriceOf"",""outputs"":[{""name"":""_startingPrice"",""type"":""uint256""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":true,""inputs"":[],""name"":""getprizeamount"",""outputs"":[{""name"":""_prizeamount"",""type"":""uint256""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_itemId"",""type"":""uint256""}],""name"":""priceOf"",""outputs"":[{""name"":""_price"",""type"":""uint256""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_owner"",""type"":""address""}],""name"":""getownerInfo"",""outputs"":[{""name"":""_name"",""type"":""bytes32""},{""name"":""_email"",""type"":""bytes32""},{""name"":""_phone"",""type"":""bytes32""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":true,""inputs"":[],""name"":""enddate"",""outputs"":[{""name"":"""",""type"":""uint256""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_referraltokencontract"",""type"":""address""}],""name"":""setReferralTokenContract"",""outputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""function""},{""constant"":false,""inputs"":[{""name"":""_itemId"",""type"":""uint256""}],""name"":""buy"",""outputs"":[],""payable"":true,""stateMutability"":""payable"",""type"":""function""},{""constant"":true,""inputs"":[{""name"":""_price"",""type"":""uint256""}],""name"":""calculateNextPrice"",""outputs"":[{""name"":""_nextPrice"",""type"":""uint256""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""constant"":true,""inputs"":[],""name"":""referraltokencontract"",""outputs"":[{""name"":"""",""type"":""address""}],""payable"":false,""stateMutability"":""view"",""type"":""function""},{""inputs"":[],""payable"":false,""stateMutability"":""nonpayable"",""type"":""constructor""},{""anonymous"":false,""inputs"":[{""indexed"":true,""name"":""_itemId"",""type"":""uint256""},{""indexed"":false,""name"":""_price"",""type"":""uint256""},{""indexed"":true,""name"":""_oldowner"",""type"":""address""},{""indexed"":true,""name"":""_newowner"",""type"":""address""}],""name"":""TransactionOccured"",""type"":""event""},{""anonymous"":false,""inputs"":[{""indexed"":true,""name"":""_itemId"",""type"":""uint256""},{""indexed"":true,""name"":""_owner"",""type"":""address""},{""indexed"":false,""name"":""_price"",""type"":""uint256""}],""name"":""Bought"",""type"":""event""},{""anonymous"":false,""inputs"":[{""indexed"":true,""name"":""_itemId"",""type"":""uint256""},{""indexed"":true,""name"":""_owner"",""type"":""address""},{""indexed"":false,""name"":""_price"",""type"":""uint256""}],""name"":""Sold"",""type"":""event""},{""anonymous"":false,""inputs"":[{""indexed"":true,""name"":""_from"",""type"":""address""},{""indexed"":true,""name"":""_to"",""type"":""address""},{""indexed"":false,""name"":""_tokenId"",""type"":""uint256""}],""name"":""Transfer"",""type"":""event""},{""anonymous"":false,""inputs"":[{""indexed"":true,""name"":""_owner"",""type"":""address""},{""indexed"":true,""name"":""_approved"",""type"":""address""},{""indexed"":false,""name"":""_tokenId"",""type"":""uint256""}],""name"":""Approval"",""type"":""event""}]";
        public static readonly string contractaddress = "0xD67430C959DA5cf41Ad931c9A60cdc56a4072223";//"0x597D2517b6cda3F8F3E40BD9ED5B02F4097e4EeD";


        public async Task<decimal> Getitemcurrentprice(int itemid)
        {

            decimal currentprice = 0;
            var web3 = new Nethereum.Web3.Web3(ETH_NODE_URL);

            var contract = web3.Eth.GetContract(abi, contractaddress);
            var pricefunction = contract.GetFunction("priceOf");

            var result = await pricefunction.CallAsync<BigInteger>(itemid);
            Nethereum.Util.UnitConversion nethutil = new Nethereum.Util.UnitConversion();

            currentprice = nethutil.FromWei(result, 18);

            return currentprice;
        }

    }
}
